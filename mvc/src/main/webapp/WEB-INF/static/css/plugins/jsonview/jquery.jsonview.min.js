/*!
jQuery JSONView.
Licensed under the MIT License.
 */
(function(n){var t,i,u,r;return u=function(){function n(n){n==null&&(n={});this.options=n}return n.prototype.htmlEncode=function(n){return n!==null?n.toString().replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""},n.prototype.jsString=function(n){return n=JSON.stringify(n).slice(1,-1),this.htmlEncode(n)},n.prototype.decorateWithSpan=function(n,t){return'<span class="'+t+'">'+this.htmlEncode(n)+"<\/span>"},n.prototype.valueToHTML=function(n,t){var i;return t==null&&(t=0),i=Object.prototype.toString.call(n).match(/\s(.+)]/)[1].toLowerCase(),this[""+i+"ToHTML"].call(this,n,t)},n.prototype.nullToHTML=function(){return this.decorateWithSpan("null","null")},n.prototype.numberToHTML=function(n){return this.decorateWithSpan(n,"num")},n.prototype.stringToHTML=function(n){var t,i;return/^(http|https|file):\/\/[^\s]+$/i.test(n)?'<a href="'+this.htmlEncode(n)+'"><span class="q">"<\/span>'+this.jsString(n)+'<span class="q">"<\/span><\/a>':(t="",n=this.jsString(n),this.options.nl2br&&(i=/([^>\\r\\n]?)(\\r\\n|\\n\\r|\\r|\\n)/g,i.test(n)&&(t=" multiline",n=(n+"").replace(i,"$1<br />"))),'<span class="string'+t+'">"'+n+'"<\/span>')},n.prototype.booleanToHTML=function(n){return this.decorateWithSpan(n,"bool")},n.prototype.arrayToHTML=function(n,t){var o,r,u,f,i,s,e,h;for(t==null&&(t=0),r=!1,i="",f=n.length,u=e=0,h=n.length;e<h;u=++e)s=n[u],r=!0,i+="<li>"+this.valueToHTML(s,t+1),f>1&&(i+=","),i+="<\/li>",f--;return r?(o=t===0?"":" collapsible",'[<ul class="array level'+t+o+'">'+i+"<\/ul>]"):"[ ]"},n.prototype.objectToHTML=function(n,t){var e,f,o,u,i,r,s;t==null&&(t=0);f=!1;i="";u=0;for(r in n)u++;for(r in n)s=n[r],f=!0,o=this.options.escape?this.jsString(r):r,i+='<li><span class="prop"><span class="q">"<\/span>'+o+'<span class="q">"<\/span><\/span>: '+this.valueToHTML(s,t+1),u>1&&(i+=","),i+="<\/li>",u--;return f?(e=t===0?"":" collapsible",'{<ul class="obj level'+t+e+'">'+i+"<\/ul>}"):"{ }"},n.prototype.jsonToHTML=function(n){return'<div class="jsonview">'+this.valueToHTML(n)+"<\/div>"},n}(),typeof module!="undefined"&&module!==null&&(module.exports=u),i=function(){function n(){}return n.bindEvent=function(n,t){var i;return i=document.createElement("div"),i.className="collapser",i.innerHTML=t.collapsed?"+":"-",i.addEventListener("click",function(n){return function(i){return n.toggle(i.target,t)}}(this)),n.insertBefore(i,n.firstChild),t.collapsed?this.collapse(i):void 0},n.expand=function(n){var i,t;if(t=this.collapseTarget(n),t.style.display!=="")return i=t.parentNode.getElementsByClassName("ellipsis")[0],t.parentNode.removeChild(i),t.style.display="",n.innerHTML="-"},n.collapse=function(n){var i,t;if(t=this.collapseTarget(n),t.style.display!=="none")return t.style.display="none",i=document.createElement("span"),i.className="ellipsis",i.innerHTML=" &hellip; ",t.parentNode.insertBefore(i,t),n.innerHTML="+"},n.toggle=function(n,t){var r,u,e,i,o,f;if(t==null&&(t={}),e=this.collapseTarget(n),r=e.style.display==="none"?"expand":"collapse",t.recursive_collapser){for(u=n.parentNode.getElementsByClassName("collapser"),f=[],i=0,o=u.length;i<o;i++)n=u[i],f.push(this[r](n));return f}return this[r](n)},n.collapseTarget=function(n){var t;if(t=n.parentNode.getElementsByClassName("collapsible"),t.length)return t[0]},n}(),t=n,r={collapse:function(n){if(n.innerHTML==="-")return i.collapse(n)},expand:function(n){if(n.innerHTML==="+")return i.expand(n)},toggle:function(n){return i.toggle(n)}},t.fn.JSONView=function(){var n,s,h,e,o,f,c;return n=arguments,r[n[0]]!=null?(o=n[0],this.each(function(){var i,u;return i=t(this),n[1]!=null?(u=n[1],i.find(".jsonview .collapsible.level"+u).siblings(".collapser").each(function(){return r[o](this)})):i.find(".jsonview > ul > li .collapsible").siblings(".collapser").each(function(){return r[o](this)})})):(e=n[0],f=n[1]||{},s={collapsed:!1,nl2br:!1,recursive_collapser:!1,escape:!0},f=t.extend(s,f),h=new u({nl2br:f.nl2br,escape:f.escape}),Object.prototype.toString.call(e)==="[object String]"&&(e=JSON.parse(e)),c=h.jsonToHTML(e),this.each(function(){var u,e,o,n,s,r;for(u=t(this),u.html(c),o=u[0].getElementsByClassName("collapsible"),r=[],n=0,s=o.length;n<s;n++)e=o[n],e.parentNode.nodeName==="LI"?r.push(i.bindEvent(e.parentNode,f)):r.push(void 0);return r}))}})(jQuery);